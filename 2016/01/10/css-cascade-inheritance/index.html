<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Cascade and Inheritance</title>
  <meta name="description" content="Cascade and Inheritance">

  <link rel="stylesheet" href="css/style.css">
  <script>
    (function(){
        function addFont() {
            var style = document.createElement('style');
            style.rel = 'stylesheet';
            document.head.appendChild(style);
            style.textContent = localStorage.fonts;
        }
        try {
            if (localStorage.fonts) {
                addFont();
            } else {
                var request = new XMLHttpRequest();
                request.open('GET', 'css/fonts/fonts.css', true);

                request.onload = function() {
                    if (request.status >= 200 && request.status < 400) {
                        localStorage.fonts = request.responseText;
                        addFont();
                    }
                };
                request.send();
            }
        } catch(ex) {
      }
    }());
  </script>
  
    <script src="js/cssclasses.js" defer></script>
  
</head>

  <body>
    <div class="l-container-content">
      <main class="l-width-content l--has-pt">
        <div class="post">
  <header class="post-header">
    <h1 class="post-title">Cascade and Inheritance</h1>
    <p class="post-meta">Jan 10, 2016</p>
  </header>
  <article class="post-content">
    <h3 id="cascade-and-inheritance">Cascade and Inheritance</h3>

<p>As the name Cascading Style Sheets suggests, CSS specifies the <em>styles</em> for a document in a <em>cascading</em> manner. But what exactly does <em>cascading</em> mean?</p>

<p>First it is important to understand that most elements in a document are subject to more than one style declaration. Sometimes these declarations are conflicting. If one declaration says an element should be red and another one says it should be green, the browser can only apply one of them.</p>

<p>The set of rules that determines which of these conflicting declarations to apply is called the <em>cascade</em>.</p>

<h4 id="the-user-agent-stylesheet">The User Agent Stylesheet</h4>

<p>Every stylesheet that you, the <em>author</em>, add to a website, is called an <em>author stylesheet</em>.</p>

<p>Every browser, or <em>user agent</em>, also has its own <em>user agent stylesheet</em>. It makes sure that every document always has some sensible default styling, even without you writing a single line of CSS.</p>

<p>Thanks to the user agent stylesheet, all headlines have a bigger font size, and every link is blue and underlined. While these defaults are very useful, the rules of the cascade make sure that you can always overwrite them in your own author stylesheets.</p>

<p>If the user agent stylesheet says all links should be blue, but your author stylesheet says all links should be red, all links will be red.</p>

<h4 id="overwriting-your-own-styles">Overwriting your own styles</h4>

<p>The cascade is also important for when you want to overwrite your own styles. But why would you want to overwrite your own styles?</p>

<p>Imagine you are styling a document with some paragraphs. All these paragraphs should have green text, but one of them contains a warning, and should therefore be red.</p>

<p>Here is one way to do this:</p>

<div class="m-switch">
  
  <input class="m-switch__input" id="switch_11_22" type="radio" name="switch_11" value="dark" />
  <label class="m-switch__label" for="switch_11_22">Dark</label>
  
  <input class="m-switch__input" id="switch_11_23" type="radio" name="switch_11" value="light" checked="checked" />
  <label class="m-switch__label" for="switch_11_23">Light</label>
</div>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;style&gt;</span>
    <span class="nt">p</span> <span class="p">{</span>
      <span class="nl">color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nc">.warning</span> <span class="p">{</span>
      <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;p&gt;</span>I am a normal green paragraph of text.<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p&gt;</span>I am another normal green paragraph of text.<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"warning"</span><span class="nt">&gt;</span>Warning! I am a red paragraph of text!<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/body&gt;</span></code></pre></figure>

<p>In this example, the first rule specifies that all paragraphs have green text. The second rule overwrites the first rule wherever <code class="highlighter-rouge">class="warning"</code> is applied.</p>

<p>This is a good example why you would want to overwrite your own styles: Apply generic default styles for all elements first, then overwrite some of them to create exceptions.</p>

<p>If you think that is all very complicated, you are not wrong. Thankfully, computers are much better at figuring these things out than humans.</p>

<h4 id="developer-tools-to-the-rescue">Developer Tools to the rescue</h4>

<p>Developer tools are our best friends when building websites. They can give us a lot of feedback about the elements on a web page.</p>

<p>One great developer tool is <em>inspect element</em>.</p>

<p>The basic idea behind inspect element is that you can click any element on a page and your browser will tell you a lot of useful things about it. For example which styles are assigned to the element.</p>

<p>Inspect element or something similar is available in all modern browsers. In Chrome and Firefox you just need to right click on the page and select <em>Inspect Element</em> from the context menu. If you are using Safari you first need to <a href="https://support.apple.com/kb/PH21414">enable developer tools in the browser</a>. If you are using Edge, inspect element is called <em>DOM Inspector</em>. You also need to <a href="https://developer.microsoft.com/en-us/microsoft-edge/platform/documentation/f12-devtools-guide/settings/">enable it first in the f12 Developer Tools menu</a>.</p>

<p>You can read more about how to use developer tools in your browser using the following links:</p>

<ul>
  <li><a href="https://support.apple.com/kb/PH21414">Safari</a></li>
  <li><a href="https://developers.google.com/web/tools/chrome-devtools/inspect-styles/">Chrome</a></li>
  <li><a href="https://developer.microsoft.com/en-us/microsoft-edge/platform/documentation/f12-devtools-guide/dom-explorer/">Edge</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Page_Inspector/UI_Tour">Firefox</a></li>
</ul>

<p>Here is an animated gif of what inspect element looks like in Google Chrome:</p>

<figure>
  <img src="/assets/images/inspect-element.gif" alt="Animated gif of inspecting an element in Google Chrome" />
  <figcaption>
    <p>The element inspector in Google Chrome Developer Tools</p>
  </figcaption>
</figure>

<figure>
  <img src="/assets/images/inspect-element.png" alt="Image of the styles panel in Google Chrome Developer Tools" />
  <figcaption>
    <p>The styles panel shows you what styles are applied to an element and where to find them.</p>
    <p>It also indicates overwritten styles as <strike>striked out</strike></p>
  </figcaption>
</figure>

<h4 id="parents-children-siblings-inheritance">Parents, Children, Siblings, Inheritance</h4>

<p>When we talk about an HTML document, we often describe it as a family tree. When an element stands between the opening tag and the closing tag of another element, it is <em>wrapped</em> inside another element. Elements that are wrapped inside another element are also called <em>children</em>. The tree of elements in a document is also called the <em><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model">DOM</a></em>, and the elements in the tree are called <em>DOM nodes</em>.</p>

<p>Consider the following document:</p>

<div class="m-switch">
  
  <input class="m-switch__input" id="switch_12_24" type="radio" name="switch_12" value="dark" />
  <label class="m-switch__label" for="switch_12_24">Dark</label>
  
  <input class="m-switch__input" id="switch_12_25" type="radio" name="switch_12" value="light" checked="checked" />
  <label class="m-switch__label" for="switch_12_25">Light</label>
</div>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;main&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Web Browsers<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;p&gt;</span>Firefox is Mozilla's web browser.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;</span>Chrome is Google's web browser.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;</span>Safari is Apple's web browser.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;</span>Edge is Microsoft's web browser.<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/main&gt;</span>
    <span class="nt">&lt;footer&gt;</span>
      <span class="nt">&lt;h3&gt;</span>Learn more<span class="nt">&lt;/h3&gt;</span>
      <span class="nt">&lt;p&gt;</span>Read the Wikipedia article about web browsers<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/footer&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<p>For this document, the following statements are true:</p>

<ul>
  <li><code class="highlighter-rouge">h2</code> is a child of <code class="highlighter-rouge">main</code></li>
  <li><code class="highlighter-rouge">footer</code> is a child of <code class="highlighter-rouge">body</code></li>
  <li><code class="highlighter-rouge">h2</code> is a sibling of <code class="highlighter-rouge">p</code></li>
  <li><code class="highlighter-rouge">h2</code> has four siblings</li>
  <li><code class="highlighter-rouge">main</code> is a parent of <code class="highlighter-rouge">h2</code></li>
  <li><code class="highlighter-rouge">main</code> has five children</li>
  <li><code class="highlighter-rouge">h2</code> and <code class="highlighter-rouge">main</code> are descendants of <code class="highlighter-rouge">body</code></li>
  <li><code class="highlighter-rouge">html</code> and <code class="highlighter-rouge">body</code> are ancestors of <code class="highlighter-rouge">p</code></li>
  <li><code class="highlighter-rouge">main</code> and <code class="highlighter-rouge">footer</code> are wrapped inside a <code class="highlighter-rouge">body</code>-element</li>
  <li>The <code class="highlighter-rouge">html</code>-element is wrapped around the <code class="highlighter-rouge">body</code>-element</li>
</ul>

<p>One way we can make use of these relationships in our CSS is through <em>inheritance</em>. Inheritance means that some CSS properties, like text color or font size, get passed down, or <em>inherited</em> from parent to children and further descendants. So if we want all the text in our document to be green, instead of styling every single element we can add the following CSS:</p>

<div class="m-switch">
  
  <input class="m-switch__input" id="switch_13_26" type="radio" name="switch_13" value="dark" />
  <label class="m-switch__label" for="switch_13_26">Dark</label>
  
  <input class="m-switch__input" id="switch_13_27" type="radio" name="switch_13" value="light" checked="checked" />
  <label class="m-switch__label" for="switch_13_27">Light</label>
</div>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">body</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>All visible elements in an HTML document are descendants of the body element. Therefore the color green now applies to every element on the page, as long as the element doesn’t have its own color property value.</p>

<p>Now let’s make this document a bit more interesting:</p>

<div class="m-switch">
  
  <input class="m-switch__input" id="switch_14_28" type="radio" name="switch_14" value="dark" />
  <label class="m-switch__label" for="switch_14_28">Dark</label>
  
  <input class="m-switch__input" id="switch_14_29" type="radio" name="switch_14" value="light" checked="checked" />
  <label class="m-switch__label" for="switch_14_29">Light</label>
</div>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;style&gt;</span>
      <span class="nt">body</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nt">footer</span> <span class="p">{</span>
        <span class="nl">background-color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
        <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;main&gt;</span>
      <span class="nt">&lt;h2&gt;</span>Web Browsers<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"https://www.mozilla.org/en-US/firefox/new/"</span><span class="nt">&gt;</span>Firefox<span class="nt">&lt;/a&gt;</span> is Mozilla's web browser.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"https://www.google.com/chrome/"</span><span class="nt">&gt;</span>Chrome<span class="nt">&lt;/a&gt;</span> is Google's web browser.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"http://www.apple.com/lae/safari/"</span><span class="nt">&gt;</span>Safari<span class="nt">&lt;/a&gt;</span> is Apple's web browser.<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;p&gt;&lt;a</span> <span class="na">href=</span><span class="s">"https://www.microsoft.com/en-us/windows/microsoft-edge"</span><span class="nt">&gt;</span>Edge<span class="nt">&lt;/a&gt;</span> is Microsoft's web browser.<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/main&gt;</span>
    <span class="nt">&lt;footer&gt;</span>
      <span class="nt">&lt;h3&gt;</span>Learn more<span class="nt">&lt;/h3&gt;</span>
      <span class="nt">&lt;p&gt;</span>Read the <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://en.wikipedia.org/wiki/Web_browser"</span><span class="nt">&gt;</span>Wikipedia article about web browsers<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;/footer&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<p>In this document, all elements without a specified text color will inherit the green text color from the <code class="highlighter-rouge">body</code>-element. The <code class="highlighter-rouge">footer</code> has its own white text color that overwrites the green text color from the <code class="highlighter-rouge">body</code>-element. It also has a green background color.</p>

<p>You will notice that the <code class="highlighter-rouge">a</code>-elements don’t inherit the text color of their ancestors. That is because the <code class="highlighter-rouge">a</code>-element has its own blue text color specified in the user agent style sheet.</p>

<p>Unfortunately, blue on green is not very readable. It might be a good idea to change the link color for the <code class="highlighter-rouge">footer</code> by adding the following CSS:</p>

<div class="m-switch">
  
  <input class="m-switch__input" id="switch_15_30" type="radio" name="switch_15" value="dark" />
  <label class="m-switch__label" for="switch_15_30">Dark</label>
  
  <input class="m-switch__input" id="switch_15_31" type="radio" name="switch_15" value="light" checked="checked" />
  <label class="m-switch__label" for="switch_15_31">Light</label>
</div>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">footer</span> <span class="nt">a</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">underline</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>You might wonder why there is an empty space between <code class="highlighter-rouge">footer</code> and <code class="highlighter-rouge">a</code> in the <code class="highlighter-rouge">footer a</code> selector. This empty space is called <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Descendant_selectors">descendant combinator</a>. The descendant combinator lets you select elements that are descendants of another element.</p>

<p>This becomes a bit clearer when you read the selectors from right to left. <code class="highlighter-rouge">footer a</code> will select every <code class="highlighter-rouge">a</code> element, that is a <em>descendant</em> of a <code class="highlighter-rouge">footer</code>-element. You can also combine more selectors. For example <code class="highlighter-rouge">footer h2 a</code> would select every link inside of a level two headline that is inside of a footer.</p>

<p>Knowing this we can make sure that all our links inside the footer have a white text color. We also want to make sure that they are underlined with <code class="highlighter-rouge">text-decoration: underline;</code>. This way people can still recognize that they are links, not just regular text.</p>

<h4 id="the-inherit-keyword">The <code class="highlighter-rouge">inherit</code> keyword</h4>

<p>This is all well and good, but what if we decide to change the text color in our footer from white to yellow? In our example we would have to change the <code class="highlighter-rouge">color</code> values for <code class="highlighter-rouge">footer</code> <em>and</em> <code class="highlighter-rouge">footer a</code> to yellow to achieve this. Ugh, so much work!</p>

<p>Thankfully, there is the <code class="highlighter-rouge">inherit</code> keyword.</p>

<p>The <code class="highlighter-rouge">inherit</code> keyword forces some attributes, like color, to be <em>inherited</em> from the parent element. So in our example we could give our <code class="highlighter-rouge">footer a</code> the property value <code class="highlighter-rouge">color: inherit;</code>. This way the links inside our footer are always the same color as the text in our footer.</p>

<p>There is also the newer <code class="highlighter-rouge">currentcolor</code> keyword. <code class="highlighter-rouge">currentcolor</code> always represents the text color of a certain element. If you want to change another attribute than <code class="highlighter-rouge">color</code> to that same element’s text color, you could do that with a declaration like <code class="highlighter-rouge">border-color: currentcolor</code>.</p>

<h4 id="specificity">Specificity</h4>

<p>Specificity means that a rule that is <em>more specific</em> overpowers a rule that is <em>less specific</em>. For example selecting every link inside a footer element with <code class="highlighter-rouge">footer a</code> is <em>more specific</em> than selecting every link element everywhere with <code class="highlighter-rouge">a</code>.</p>

<p>Some selectors are more specific by default. For example a <em>class selector</em> will always have a higher specificity than an <em>element selector</em>. This makes sense, because selecting only elements with a certain class attribute is <em>more specific</em> than selecting <em>every</em> element of a type.</p>

<div class="m-switch">
  
  <input class="m-switch__input" id="switch_16_32" type="radio" name="switch_16" value="dark" />
  <label class="m-switch__label" for="switch_16_32">Dark</label>
  
  <input class="m-switch__input" id="switch_16_33" type="radio" name="switch_16" value="light" checked="checked" />
  <label class="m-switch__label" for="switch_16_33">Light</label>
</div>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;style&gt;</span>
      <span class="nt">a</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nt">body</span> <span class="nt">a</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nc">.danger-link</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"danger-link"</span> <span class="na">href=</span><span class="s">"danger.html"</span><span class="nt">&gt;</span>I am a very dangerous link, do not click me!<span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<p>In this example the link will end up red. The first rule for <code class="highlighter-rouge">a</code> will be overwritten by the <em>more specific</em> rule <code class="highlighter-rouge">body a</code>.</p>

<p>The class selector <code class="highlighter-rouge">.danger-link</code> is even more specific, therefore it overwrites them both.</p>

<p>It is important to keep in mind that in the cascade <em>specificity beats the order</em> of rules in your stylesheet. If a rule is followed by another rule with the <em>same specificity</em>, the second rule overwrites the first. If the first rule has a <em>higher specificity</em>, the first rule still overwrites any less specific rules that come after it.</p>

<div class="m-switch">
  
  <input class="m-switch__input" id="switch_17_34" type="radio" name="switch_17" value="dark" />
  <label class="m-switch__label" for="switch_17_34">Dark</label>
  
  <input class="m-switch__input" id="switch_17_35" type="radio" name="switch_17" value="light" checked="checked" />
  <label class="m-switch__label" for="switch_17_35">Light</label>
</div>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;style&gt;</span>
      <span class="nt">body</span> <span class="nt">p</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nt">p</span> <span class="p">{</span>
        <span class="nl">color</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="nt">&lt;/style&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p&gt;</span>I am a green paragraph of text because "body p" is more specific than "p"<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<p>Most of the time you don’t need to think about specificity too much, but sometimes high specificity can cause bugs or unexpected behavior. You can prevent this by avoiding overly specific selectors, like <code class="highlighter-rouge">.site-header nav ul li a</code>. If you want to read more about this, the Mozilla Developer Network has a <a href="https://developer.mozilla.org/en/docs/Web/CSS/Specificity">more detailed article on specificity</a>.</p>

  </article>
</div>

      </main>
    </div>
  </body>
</html>
